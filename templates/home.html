{% extends 'base.html' %}
{% load static %}

{% block title %}JobRite.com - Find Your Perfect Job{% endblock %}

{% block content %}
<!-- Enhanced Hero Section -->
<section class="hero-section">
    <div class="particles-container" id="particles-container"></div>
    
    <!-- Floating Elements -->
    <div class="floating-elements">
        <div class="floating-icon" aria-hidden="true">üíº</div>
        <div class="floating-icon" aria-hidden="true">üè¢</div>
        <div class="floating-icon" aria-hidden="true">üåê</div>
        <div class="floating-icon" aria-hidden="true">‚ö°</div>
    </div>
    
    <div class="hero-content">
        <h1 class="hero-title">WorkWise SA</h1>
        <p class="hero-subtitle">Connecting Mid-Level Professionals with Premium Opportunities</p>
        <h2 class="tagline">Let us get you hired</h2>
        
        <!-- Enhanced Search Form -->
        <form class="search-form" id="search-form" method="GET" action="{% url 'jobs:search_jobs' %}">
            <div class="search-box">
                <input type="text" class="search-input" name="q" placeholder="Search jobs, companies, or skills..." aria-label="Search for jobs, companies, or skills">
                <button type="submit" class="search-btn">Find Jobs</button>
            </div>
            <a href="#upload-cv" class="cta-secondary">or Upload Your CV</a>
        </form>
        
        <div class="stats-container">
            <div class="stat-item">
                <span class="stat-number" data-target="5000">0</span>
                <span class="stat-label">Active Jobs</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-target="850">0</span>
                <span class="stat-label">Companies</span>
            </div>
            <div class="stat-item">
                <span class="stat-number" data-target="12000">0</span>
                <span class="stat-label">Job Seekers</span>
            </div>
        </div>
    </div>
</section>

<!-- Job Categories Section -->
<section class="py-16 lg:py-24 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4">
                Browse Jobs by Category
            </h2>
            <p class="text-xl text-text-secondary max-w-2xl mx-auto">
                Explore opportunities across different industries and find the perfect role for your career
            </p>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
            {% for category in job_categories %}
            <a href="{% url 'jobs:search_jobs' %}?category={{ category.key }}" class="text-center group cursor-pointer block">
                <div class="w-24 h-24 mx-auto mb-4 bg-gradient-to-br {% if category.key == 'call-center' %}from-blue-400 to-blue-600{% elif category.key == 'customer-care' %}from-green-400 to-green-600{% elif category.key == 'sales' %}from-purple-400 to-purple-600{% elif category.key == 'hr' %}from-red-400 to-red-600{% elif category.key == 'it' %}from-indigo-400 to-indigo-600{% elif category.key == 'logistics' %}from-teal-400 to-teal-600{% else %}from-orange-400 to-orange-600{% endif %} rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                    {% if category.key == 'call-center' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                    </svg>
                    {% elif category.key == 'customer-care' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    {% elif category.key == 'sales' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                    </svg>
                    {% elif category.key == 'hr' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                    </svg>
                    {% elif category.key == 'it' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    {% elif category.key == 'logistics' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                    </svg>
                    {% else %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                    </svg>
                    {% endif %}
                </div>
                <h3 class="text-lg font-semibold text-text-primary group-hover:text-accent transition-colors duration-200">
                    {{ category.name }}
                </h3>
                <p class="text-text-secondary text-sm mt-1">{{ category.description }} {% if category.count > 0 %}({{ category.count }}){% endif %}</p>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Remote Jobs Section -->
<section class="py-16 lg:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4">
                Remote Mid-Level Positions
            </h2>
            <p class="text-xl text-text-secondary max-w-2xl mx-auto">
                Work from anywhere with these exciting remote opportunities for experienced professionals
            </p>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            {% for job in remote_jobs %}
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden">
                <div class="p-8">
                    <div class="flex items-start space-x-6">
                        <div class="w-16 h-16 bg-gradient-to-br {% if job.category == 'it' %}from-blue-500 to-indigo-600{% elif job.category == 'logistics' %}from-green-500 to-emerald-600{% else %}from-purple-500 to-purple-600{% endif %} rounded-full flex items-center justify-center flex-shrink-0">
                            {% if job.category == 'it' %}
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            {% elif job.category == 'logistics' %}
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                            </svg>
                            {% else %}
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                            </svg>
                            {% endif %}
                        </div>
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-text-primary mb-2">{{ job.title }}</h3>
                            <p class="text-accent font-semibold mb-3">{{ job.company }} ‚Ä¢ Remote ‚Ä¢ Mid-Level</p>
                            <p class="text-text-secondary mb-4">
                                {{ job.description|truncatewords:20 }}
                            </p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="px-3 py-1 {% if job.category == 'it' %}bg-blue-100 text-blue-800{% elif job.category == 'logistics' %}bg-green-100 text-green-800{% else %}bg-purple-100 text-purple-800{% endif %} rounded-full text-sm">{{ job.get_category_display }}</span>
                                <span class="px-3 py-1 {% if job.category == 'it' %}bg-blue-100 text-blue-800{% elif job.category == 'logistics' %}bg-green-100 text-green-800{% else %}bg-purple-100 text-purple-800{% endif %} rounded-full text-sm">Remote Work</span>
                                <span class="px-3 py-1 {% if job.category == 'it' %}bg-blue-100 text-blue-800{% elif job.category == 'logistics' %}bg-green-100 text-green-800{% else %}bg-purple-100 text-purple-800{% endif %} rounded-full text-sm">{{ job.salary_range }}</span>
                            </div>
                            <button class="bg-accent text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors duration-200">
                                Apply Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <!-- Fallback content if no remote jobs -->
            <div class="col-span-2 text-center py-8">
                <p class="text-text-secondary text-lg">No remote jobs available at the moment. Check back soon!</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="bg-secondary py-16">
    <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4">
            Ready to Start Your Career Journey?
        </h2>
        <p class="text-xl text-text-secondary mb-8">
            Join thousands of professionals who have found their dream jobs through JobRite.com
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button class="bg-accent text-white px-8 py-3 rounded-lg hover:bg-orange-600 transition-colors duration-200 font-semibold">
                Create Your Profile
            </button>
            <a href="{% url 'jobs:search_jobs' %}" class="border-2 border-primary text-primary px-8 py-3 rounded-lg hover:bg-primary hover:text-white transition-colors duration-200 font-semibold inline-block">
                Browse All Jobs
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
/* Enhanced Hero Section JavaScript - Encapsulated in IIFE */
(function() {
    document.addEventListener('DOMContentLoaded', () => {
        // --- Configuration ---
        const jobTerms = ['Customer Care', 'Call Center', 'Help Desk', 'Client Support', 'Service Agent',
            'Customer Success', 'Technical Support', 'Phone Support', 'Live Chat Agent',
            'Sales Agent', 'Account Manager', 'Business Development', 'Sales Rep', 'Lead Generation', 
            'Territory Manager', 'Inside Sales', 'B2B Sales',
            'Receptionist', 'Office Manager', 'Administrative Assistant', 'Data Entry',
            'Office Coordinator', 'Executive Assistant', 'Front Desk', 'Scheduling',
            'HR Specialist', 'Recruiter', 'Talent Acquisition', 'HR Coordinator',
            'People Operations', 'Benefits Admin', 'HR Generalist', 'Training Coordinator',
            'IT Technician', 'Help Desk Tech', 'Network Admin', 'System Admin',
            'Tech Support', 'IT Support', 'Desktop Support', 'Field Technician',
            'Logistics Coordinator', 'Supply Chain', 'Warehouse Supervisor', 'Operations',
            'Inventory Manager', 'Dispatch', 'Fleet Coordinator', 'Shipping Clerk',
            'Remote Work', 'Work From Home', 'Virtual Assistant', 'Online Jobs',
            'Flexible Hours', 'Digital Nomad', 'Remote Team', 'Hybrid Work',
            'Career Growth', 'Professional', 'Opportunity', 'Team Lead', 'Supervisor',
            'Coordinator', 'Specialist', 'Analyst', 'Associate', 'Executive'];
        
        const highlightTerms = ['Remote Work', 'Career Growth', 'Customer Care', 'Sales Agent', 'IT Technician', 'HR Specialist', 'Logistics', 'Work From Home'];
        const PARTICLE_CREATION_INTERVAL = 500; // ms
        const MOUSE_INTERACTION_RADIUS = 100; // pixels
        
        // --- DOM Elements ---
        const particlesContainer = document.getElementById('particles-container');
        const searchForm = document.getElementById('search-form');
        const searchInput = document.querySelector('.search-input');
        const statNumbers = document.querySelectorAll('.stat-number');
        const tagline = document.querySelector('.tagline');
        const floatingIcons = document.querySelectorAll('.floating-icon');
        
        // --- Particle System ---
        function createParticle() {
            if (!particlesContainer) return;
            
            const particle = document.createElement('div');
            particle.className = 'particle';
            const term = jobTerms[Math.floor(Math.random() * jobTerms.length)];
            particle.textContent = term;
            
            if (highlightTerms.includes(term)) {
                particle.classList.add('highlight');
            }
            
            particle.style.left = Math.random() * 100 + 'vw';
            particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
            particle.style.animationDelay = Math.random() * 5 + 's';
            particle.style.setProperty('--drift', `${(Math.random() - 0.5) * 200}px`);
            
            particlesContainer.appendChild(particle);
            setTimeout(() => particle.remove(), 20000);
        }
        
        // Mouse interaction
        function handleMouseMove(e) {
            const allParticles = document.querySelectorAll('.particle');
            allParticles.forEach(particle => {
                const rect = particle.getBoundingClientRect();
                const distance = Math.hypot(e.clientX - rect.left, e.clientY - rect.top);
                
                if (distance < MOUSE_INTERACTION_RADIUS) {
                    particle.classList.add('mouse-attracted');
                } else {
                    particle.classList.remove('mouse-attracted');
                }
            });
            
            // Parallax for floating icons
            const x = (e.clientX / window.innerWidth - 0.5) * 40;
            const y = (e.clientY / window.innerHeight - 0.5) * 40;
            
            floatingIcons.forEach((icon, index) => {
                const speed = (index + 1) * 0.2;
                icon.style.transform = `translateX(${x * speed}px) translateY(${y * speed}px)`;
            });
        }
        
        // Throttling function for performance
        function throttle(func, limit) {
            let inThrottle;
            return function() {
                const args = arguments;
                const context = this;
                if (!inThrottle) {
                    func.apply(context, args);
                    inThrottle = true;
                    setTimeout(() => inThrottle = false, limit);
                }
            }
        }
        
        // Search functionality
        function performSearch(e) {
            const searchTerm = searchInput.value.trim();
            if (!searchTerm) {
                e.preventDefault();
                searchInput.focus();
                return false;
            }
            // Let the form submit normally to Django
        }
        
        // Animated Stat Counter
        function animateStatNumbers() {
            statNumbers.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const duration = 2000; // 2 seconds
                const stepTime = Math.abs(Math.floor(duration / target));
                let current = 0;
                
                const timer = setInterval(() => {
                    current += Math.ceil(target/100);
                    if (current >= target) {
                        clearInterval(timer);
                        counter.textContent = target.toLocaleString() + '+';
                        return;
                    }
                    counter.textContent = current.toLocaleString();
                }, stepTime < 10 ? 10 : stepTime);
            });
        }
        
        // Typewriter Effect
        function typeWriter(element, text, speed = 80) {
            let i = 0;
            element.textContent = '';
            function type() {
                if (i < text.length) {
                    element.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                }
            }
            type();
        }
        
        // --- Initializations ---
        // Start particle system
        for (let i = 0; i < 20; i++) { 
            createParticle(); 
        }
        setInterval(createParticle, PARTICLE_CREATION_INTERVAL);
        
        // Add throttled event listener
        document.addEventListener('mousemove', throttle(handleMouseMove, 100));
        
        // Initialize search
        if (searchForm) {
            searchForm.addEventListener('submit', performSearch);
        }
        
        // Start animations after initial page animations
        setTimeout(() => {
            animateStatNumbers();
            if (tagline && tagline.textContent) {
                typeWriter(tagline, tagline.textContent);
            }
        }, 1800);
    });
})();
</script>
{% endblock %}