{% extends 'base.html' %}
{% load static %}

{% block title %}JobRite.com - Find Your Perfect Job{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/moneyrite-tools.css' %}">
{% endblock %}

{% block content %}
<!-- Enhanced Hero Section -->
<section class="hero-section">
    <div class="particles-container" id="particles-container"></div>
    
    <!-- Floating Elements -->
    <div class="floating-elements">
        <div class="floating-icon" aria-hidden="true">üíº</div>
        <div class="floating-icon" aria-hidden="true">üè¢</div>
        <div class="floating-icon" aria-hidden="true">üåê</div>
        <div class="floating-icon" aria-hidden="true">‚ö°</div>
    </div>
    
    <!-- Unified Hero Card -->
    <div class="hero-unified-card">
        <!-- Left side: Brand Identity -->
        <div class="hero-brand-section">
            <div class="brand-logo-container">
                <img src="{% static 'images/hero-main.svg' %}" alt="JobRite.com" class="brand-logo">
            </div>
            <div class="brand-name">
                <h1 class="brand-title">JobRite.com</h1>
                <p class="brand-tagline">Your Career, Right Here</p>
            </div>
        </div>
        
        <!-- Right side: Main Content -->
        <div class="hero-main-content">
            <!-- Primary Content -->
            <div class="primary-content">
                <p class="hero-subtitle">Connecting Mid-Level Professionals with Premium Opportunities</p>
                <h2 class="hero-tagline">Let us get you hired</h2>
            </div>
            
            <!-- Secondary Content - Search -->
            <div class="secondary-content">
                <form class="hero-search-form" id="search-form" method="GET" action="{% url 'jobs:search' %}">
                    <div class="unified-search-box">
                        <input type="text" class="unified-search-input" name="q" placeholder="Search jobs, companies, or skills..." aria-label="Search for jobs, companies, or skills">
                        <button type="submit" class="unified-search-btn">Find Jobs</button>
                    </div>
                </form>
            </div>
            
            <!-- Tertiary Content - Stats -->
            <div class="tertiary-content">
                <div class="unified-stats-container">
                    <div class="unified-stat-item">
                        <span class="unified-stat-number" data-target="5000">0</span>
                        <span class="unified-stat-label">Active Jobs</span>
                    </div>
                    <div class="unified-stat-item">
                        <span class="unified-stat-number" data-target="850">0</span>
                        <span class="unified-stat-label">Companies</span>
                    </div>
                    <div class="unified-stat-item">
                        <span class="unified-stat-number" data-target="12000">0</span>
                        <span class="unified-stat-label">Job Seekers</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Free Financial Services Section -->
<section class="free-financial-services py-16 lg:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <div class="free-services-badge">
                <span class="badge-text">100% FREE</span>
                <span class="badge-subtext">No Registration Required</span>
            </div>
            <h2 class="section-title">Financial Planning Tools</h2>
            <p class="section-description">Take control of your finances with our professional-grade tools. All calculations are performed locally in your browser for complete privacy.</p>
        </div>
        
        <div class="tools-grid">
            <!-- Salary Calculator Tool -->
            <div class="tool-card" onclick="openSalaryCalculator()">
                <div class="tool-icon">üí∞</div>
                <h3 class="tool-title">Salary Calculator</h3>
                <p class="tool-description">Calculate your take-home pay, tax obligations, and net salary with South African tax rates including UIF and medical aid credits.</p>
                <button class="tool-button">Try Now - Free</button>
            </div>
            
            <!-- Budget Planner Tool -->
            <div class="tool-card" onclick="openBudgetPlanner()">
                <div class="tool-icon">üìä</div>
                <h3 class="tool-title">Budget Planner</h3>
                <p class="tool-description">Plan your monthly budget with South African expense categories. Track spending and identify areas for improvement.</p>
                <button class="tool-button">Try Now - Free</button>
            </div>
            
            <!-- Debt Tracker Tool -->
            <div class="tool-card" onclick="openDebtTracker()">
                <div class="tool-icon">üìà</div>
                <h3 class="tool-title">Debt Tracker</h3>
                <p class="tool-description">Track multiple debts, calculate payoff timelines, and get strategies to become debt-free faster.</p>
                <button class="tool-button">Try Now - Free</button>
            </div>
            
            <!-- Credit Monitor Tool -->
            <div class="tool-card" onclick="openCreditMonitor()">
                <div class="tool-icon">üõ°Ô∏è</div>
                <h3 class="tool-title">Credit Education</h3>
                <p class="tool-description">Learn about credit scores, improve your credit health, and understand factors that affect your creditworthiness.</p>
                <button class="tool-button">Try Now - Free</button>
            </div>
        </div>
    </div>
</section>

<!-- Job Categories Section -->
<section class="py-16 lg:py-24 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4">
                Browse Jobs by Category
            </h2>
            <p class="text-xl text-text-secondary max-w-2xl mx-auto">
                Explore opportunities across different industries and find the perfect role for your career
            </p>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-8">
            {% for category in job_categories %}
            <a href="{% url 'jobs:search' %}?category={{ category.key }}" class="text-center group cursor-pointer block">
                <div class="w-24 h-24 mx-auto mb-4 bg-gradient-to-br {% if category.key == 'call-center' %}from-blue-400 to-blue-600{% elif category.key == 'customer-care' %}from-green-400 to-green-600{% elif category.key == 'sales' %}from-purple-400 to-purple-600{% elif category.key == 'hr' %}from-red-400 to-red-600{% elif category.key == 'it' %}from-indigo-400 to-indigo-600{% elif category.key == 'logistics' %}from-teal-400 to-teal-600{% else %}from-orange-400 to-orange-600{% endif %} rounded-full flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                    {% if category.key == 'call-center' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                    </svg>
                    {% elif category.key == 'customer-care' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    {% elif category.key == 'sales' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                    </svg>
                    {% elif category.key == 'hr' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                    </svg>
                    {% elif category.key == 'it' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    {% elif category.key == 'logistics' %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                    </svg>
                    {% else %}
                    <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                    </svg>
                    {% endif %}
                </div>
                <h3 class="text-lg font-semibold text-text-primary group-hover:text-accent transition-colors duration-200">
                    {{ category.name }}
                </h3>
                <p class="text-text-secondary text-sm mt-1">{{ category.description }} {% if category.count > 0 %}({{ category.count }}){% endif %}</p>
            </a>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Remote Jobs Section -->
<section class="py-16 lg:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4">
                Remote Mid-Level Positions
            </h2>
            <p class="text-xl text-text-secondary max-w-2xl mx-auto">
                Work from anywhere with these exciting remote opportunities for experienced professionals
            </p>
        </div>
        
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            {% for job in remote_jobs %}
            <div class="bg-white rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 overflow-hidden">
                <div class="p-8">
                    <div class="flex items-start space-x-6">
                        <div class="w-16 h-16 bg-gradient-to-br {% if job.category == 'it' %}from-blue-500 to-indigo-600{% elif job.category == 'logistics' %}from-green-500 to-emerald-600{% else %}from-purple-500 to-purple-600{% endif %} rounded-full flex items-center justify-center flex-shrink-0">
                            {% if job.category == 'it' %}
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                            {% elif job.category == 'logistics' %}
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                            </svg>
                            {% else %}
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                            </svg>
                            {% endif %}
                        </div>
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-text-primary mb-2">{{ job.title }}</h3>
                            <p class="text-accent font-semibold mb-3">{{ job.company }} ‚Ä¢ Remote ‚Ä¢ Mid-Level</p>
                            <p class="text-text-secondary mb-4">
                                {{ job.description|truncatewords:20 }}
                            </p>
                            <div class="flex flex-wrap gap-2 mb-4">
                                <span class="px-3 py-1 {% if job.category == 'it' %}bg-blue-100 text-blue-800{% elif job.category == 'logistics' %}bg-green-100 text-green-800{% else %}bg-purple-100 text-purple-800{% endif %} rounded-full text-sm">{{ job.get_category_display }}</span>
                                <span class="px-3 py-1 {% if job.category == 'it' %}bg-blue-100 text-blue-800{% elif job.category == 'logistics' %}bg-green-100 text-green-800{% else %}bg-purple-100 text-purple-800{% endif %} rounded-full text-sm">Remote Work</span>
                                <span class="px-3 py-1 {% if job.category == 'it' %}bg-blue-100 text-blue-800{% elif job.category == 'logistics' %}bg-green-100 text-green-800{% else %}bg-purple-100 text-purple-800{% endif %} rounded-full text-sm">{{ job.salary_range }}</span>
                            </div>
                            <a href="{% url 'jobs:job_detail' job.id %}" class="bg-accent text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors duration-200 inline-block text-center">
                                View & Apply
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <!-- Fallback content if no remote jobs -->
            <div class="col-span-2 text-center py-8">
                <p class="text-text-secondary text-lg">No remote jobs available at the moment. Check back soon!</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="bg-secondary py-16">
    <div class="max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-4">
            Ready to Start Your Career Journey?
        </h2>
        <p class="text-xl text-text-secondary mb-8">
            Join thousands of professionals who have found their dream jobs through JobRite.com
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button class="bg-accent text-white px-8 py-3 rounded-lg hover:bg-orange-600 transition-colors duration-200 font-semibold">
                Create Your Profile
            </button>
            <a href="{% url 'jobs:search' %}" class="border-2 border-primary text-primary px-8 py-3 rounded-lg hover:bg-primary hover:text-white transition-colors duration-200 font-semibold inline-block">
                Browse All Jobs
            </a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/moneyrite-tools.js' %}"></script>
<script src="{% static 'js/moneyrite-functions.js' %}"></script>
<script>
/* Enhanced Hero Section JavaScript with Advanced Particle System */
(function() {
    'use strict';
    
    // Industry-specific job terms for particles
    const jobTerms = [
        // Customer Service & Support
        'Customer Care', 'Call Center', 'Help Desk', 'Client Support', 'Service Agent',
        'Customer Success', 'Technical Support', 'Phone Support', 'Live Chat Agent',
        
        // Sales & Business
        'Sales Agent', 'Account Manager', 'Business Development', 'Sales Rep', 
        'Lead Generation', 'Territory Manager', 'Inside Sales', 'B2B Sales',
        
        // Administrative & Office
        'Receptionist', 'Office Manager', 'Administrative Assistant', 'Data Entry',
        'Office Coordinator', 'Executive Assistant', 'Front Desk', 'Scheduling',
        
        // Human Resources
        'HR Specialist', 'Recruiter', 'Talent Acquisition', 'HR Coordinator',
        'People Operations', 'Benefits Admin', 'HR Generalist', 'Training Coordinator',
        
        // IT & Technical
        'IT Technician', 'Help Desk Tech', 'Network Admin', 'System Admin',
        'Tech Support', 'IT Support', 'Desktop Support', 'Field Technician',
        
        // Logistics & Operations
        'Logistics Coordinator', 'Supply Chain', 'Warehouse Supervisor', 'Operations',
        'Inventory Manager', 'Dispatch', 'Fleet Coordinator', 'Shipping Clerk',
        
        // Remote Work Terms
        'Remote Work', 'Work From Home', 'Virtual Assistant', 'Online Jobs',
        'Flexible Hours', 'Digital Nomad', 'Remote Team', 'Hybrid Work',
        
        // General Professional Terms
        'Career Growth', 'Professional', 'Opportunity', 'Team Lead', 'Supervisor',
        'Coordinator', 'Specialist', 'Analyst', 'Associate', 'Executive'
    ];

    const highlightTerms = [
        'Remote Work', 'Career Growth', 'Customer Care', 'Sales Agent', 
        'IT Technician', 'HR Specialist', 'Logistics', 'Work From Home'
    ];

    // Mouse interaction variables
    let mouseX = 0;
    let mouseY = 0;
    let particles = [];

    // Enhanced particle creation with mouse interaction
    function createParticle() {
        const particlesContainer = document.getElementById('particles-container');
        if (!particlesContainer) return;
        
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        const term = jobTerms[Math.floor(Math.random() * jobTerms.length)];
        particle.textContent = term;
        
        // Highlight certain important terms
        if (highlightTerms.includes(term)) {
            particle.classList.add('highlight');
        }
        
        // Random starting position - start from bottom
        const startX = Math.random() * 100;
        const startY = 100; // Start from bottom
        
        particle.style.left = startX + 'vw';
        particle.style.top = startY + 'vh';
        particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
        particle.style.animationDelay = Math.random() * 2 + 's';
        
        // Store particle data for mouse interaction
        const particleData = {
            element: particle,
            baseX: startX,
            baseY: startY,
            currentX: startX,
            currentY: startY,
            originalAnimation: true,
            createdTime: Date.now()
        };
        
        particles.push(particleData);
        particlesContainer.appendChild(particle);
        
        // Remove particle after animation
        setTimeout(() => {
            if (particle.parentNode) {
                particle.parentNode.removeChild(particle);
                // Remove from particles array
                const index = particles.findIndex(p => p.element === particle);
                if (index > -1) {
                    particles.splice(index, 1);
                }
            }
        }, 25000);
    }

    // Mouse tracking for particle interaction
    function updateMousePosition(e) {
        mouseX = (e.clientX / window.innerWidth) * 100; // Convert to vw
        mouseY = (e.clientY / window.innerHeight) * 100; // Convert to vh
        updateParticleInteractions();
    }

    // Update particle positions based on mouse proximity
    function updateParticleInteractions() {
        particles.forEach(particleData => {
            const particle = particleData.element;
            if (!particle.parentNode) return;

            // Get current particle position
            const rect = particle.getBoundingClientRect();
            const particleX = (rect.left + rect.width / 2) / window.innerWidth * 100;
            const particleY = (rect.top + rect.height / 2) / window.innerHeight * 100;

            // Calculate distance from mouse
            const distance = Math.sqrt(
                Math.pow(mouseX - particleX, 2) + Math.pow(mouseY - particleY, 2)
            );

            const attractionRadius = 15; // Radius in vw/vh units
            const maxAttraction = 8; // Maximum attraction distance

            if (distance < attractionRadius) {
                // Calculate attraction force
                const force = (attractionRadius - distance) / attractionRadius;
                const attractionStrength = force * maxAttraction;

                // Calculate direction towards mouse
                const directionX = (mouseX - particleX) / distance || 0;
                const directionY = (mouseY - particleY) / distance || 0;

                // Apply attraction
                const newX = particleX + (directionX * attractionStrength * 0.5);
                const newY = particleY + (directionY * attractionStrength * 0.5);

                // Smooth transition to attracted position
                particle.style.left = newX + 'vw';
                particle.style.top = newY + 'vh';
                particle.style.animationPlayState = 'paused';
                particle.classList.add('mouse-attracted');

                particleData.currentX = newX;
                particleData.currentY = newY;
                particleData.originalAnimation = false;
            } else if (!particleData.originalAnimation) {
                // Gradually return to original animation when mouse moves away
                particle.style.animationPlayState = 'running';
                particle.classList.remove('mouse-attracted');
                particleData.originalAnimation = true;
            }
        });
    }

    // Search functionality
    function performSearch(e) {
        const searchInput = document.querySelector('.unified-search-input');
        const searchTerm = searchInput.value.trim();
        if (!searchTerm) {
            e.preventDefault();
            searchInput.focus();
            return false;
        }
        // Let the form submit normally to Django
    }
    
    // Animated Stat Counter
    function animateStatNumbers() {
        const statNumbers = document.querySelectorAll('.unified-stat-number');
        statNumbers.forEach(counter => {
            const target = +counter.getAttribute('data-target');
            const duration = 2000; // 2 seconds
            const stepTime = Math.abs(Math.floor(duration / target));
            let current = 0;
            
            const timer = setInterval(() => {
                current += Math.ceil(target/100);
                if (current >= target) {
                    clearInterval(timer);
                    counter.textContent = target.toLocaleString() + '+';
                    return;
                }
                counter.textContent = current.toLocaleString();
            }, stepTime < 10 ? 10 : stepTime);
        });
    }
    
    // Typewriter Effect
    function typeWriter(element, text, speed = 80) {
        let i = 0;
        element.textContent = '';
        function type() {
            if (i < text.length) {
                element.textContent += text.charAt(i);
                i++;
                setTimeout(type, speed);
            }
        }
        type();
    }

    // DOM Content Loaded Event
    document.addEventListener('DOMContentLoaded', function() {
        const searchForm = document.getElementById('search-form');
        const tagline = document.querySelector('.hero-tagline');
        const floatingIcons = document.querySelectorAll('.floating-icon');
        
        // Start particle system
        function startParticleSystem() {
            setInterval(createParticle, 600);
        }
        
        // Add mouse tracking for particle interactions
        document.addEventListener('mousemove', (e) => {
            updateMousePosition(e);
            
            // Enhanced parallax effect for floating icons
            const x = e.clientX / window.innerWidth;
            const y = e.clientY / window.innerHeight;
            
            floatingIcons.forEach((icon, index) => {
                const speed = (index + 1) * 0.8;
                icon.style.transform = `translate(${x * speed}px, ${y * speed}px)`;
            });
        });

        // Add mouse leave event to reset particles
        document.addEventListener('mouseleave', () => {
            particles.forEach(particleData => {
                if (particleData.element.parentNode) {
                    particleData.element.style.animationPlayState = 'running';
                    particleData.element.classList.remove('mouse-attracted');
                    particleData.originalAnimation = true;
                }
            });
        });
        
        // Initialize search
        if (searchForm) {
            searchForm.addEventListener('submit', performSearch);
        }
        
        // Start the particle system when page loads
        startParticleSystem();
        
        // Create some initial particles
        for (let i = 0; i < 8; i++) {
            setTimeout(() => createParticle(), i * 150);
        }
        
        // Start animations after initial page animations
        setTimeout(() => {
            animateStatNumbers();
            if (tagline && tagline.textContent) {
                const originalText = tagline.textContent;
                typeWriter(tagline, originalText, 80);
            }
        }, 2000);
    });
})();

// MoneyRite Tools Functions
function openSalaryCalculator() {
    const content = `
        <form class="tool-form" id="salary-calculator-form">
            <div class="form-group">
                <label class="form-label">Pay Amount (ZAR)</label>
                <input type="number" class="form-input" id="pay-amount" placeholder="Enter amount" step="0.01" min="0.01" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Pay Period</label>
                <select class="form-select" id="pay-period" required>
                    <option value="monthly">Monthly</option>
                    <option value="annually">Annually</option>
                    <option value="weekly">Weekly</option>
                    <option value="daily">Daily</option>
                    <option value="hourly">Hourly</option>
                </select>
            </div>
            
            <div class="form-group" id="hours-group" style="display: none;">
                <label class="form-label">Hours Per Week</label>
                <input type="number" class="form-input" id="hours-per-week" placeholder="40" step="0.01" min="0.01" max="168">
            </div>
            
            <div class="form-checkbox-group">
                <input type="checkbox" class="form-checkbox" id="include-medical">
                <label class="checkbox-label" for="include-medical">Include Medical Aid Tax Credit</label>
            </div>
            
            <div class="form-group" id="medical-members-group" style="display: none;">
                <label class="form-label">Number of Medical Aid Members</label>
                <input type="number" class="form-input" id="medical-members" placeholder="1" min="1" value="1">
            </div>
            
            <div class="form-group">
                <label class="form-label">Pension Contribution (%)</label>
                <input type="number" class="form-input" id="pension-percentage" placeholder="0.00" step="0.01" min="0" max="27.5" value="0">
            </div>
            
            <div class="action-buttons">
                <button type="submit" class="btn-primary">Calculate Salary</button>
                <button type="button" class="btn-secondary" onclick="clearSalaryData()">Clear Data</button>
            </div>
        </form>
        
        <div id="salary-results" class="results-container" style="display: none;">
            <h3 class="results-title">Your Salary Breakdown</h3>
            <div class="results-grid" id="salary-results-grid"></div>
        </div>
    `;
    
    window.MoneyRiteTools.modalManager.openModal('Salary Calculator', content, 'salary');
    
    // Add event listeners
    document.getElementById('pay-period').addEventListener('change', function() {
        const hoursGroup = document.getElementById('hours-group');
        hoursGroup.style.display = this.value === 'hourly' ? 'block' : 'none';
    });
    
    document.getElementById('include-medical').addEventListener('change', function() {
        const membersGroup = document.getElementById('medical-members-group');
        membersGroup.style.display = this.checked ? 'block' : 'none';
    });
    
    document.getElementById('salary-calculator-form').addEventListener('submit', function(e) {
        e.preventDefault();
        calculateSalary();
    });
    
    // Load saved data
    loadSalaryData();
}

function calculateSalary() {
    const payAmount = parseFloat(document.getElementById('pay-amount').value);
    const payPeriod = document.getElementById('pay-period').value;
    const hoursPerWeek = parseFloat(document.getElementById('hours-per-week').value) || 40;
    const includeMedical = document.getElementById('include-medical').checked;
    const medicalMembers = parseInt(document.getElementById('medical-members').value) || 1;
    const pensionPercentage = parseFloat(document.getElementById('pension-percentage').value) || 0;
    
    if (!payAmount || payAmount <= 0) {
        alert('Please enter a valid pay amount');
        return;
    }
    
    // Convert to monthly
    const grossMonthly = window.MoneyRiteTools.PayRateConverter.toMonthly(payAmount, payPeriod, hoursPerWeek);
    
    // Calculate net salary
    const results = window.MoneyRiteTools.taxCalculator.calculateNetSalary(grossMonthly, {
        includeMedical,
        medicalMembers,
        pensionPercentage
    });
    
    // Display results
    displaySalaryResults(results, payAmount, payPeriod, hoursPerWeek);
    
    // Save data
    const data = {
        payAmount, payPeriod, hoursPerWeek, includeMedical, medicalMembers, pensionPercentage, results
    };
    window.MoneyRiteTools.dataManager.save('salary', data);
}

function displaySalaryResults(results, originalAmount, originalPeriod, hoursPerWeek) {
    const resultsContainer = document.getElementById('salary-results');
    const resultsGrid = document.getElementById('salary-results-grid');
    
    resultsGrid.innerHTML = `
        <div class="result-item">
            <div class="result-label">Gross Monthly</div>
            <div class="result-value">R${results.grossMonthly.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">Income Tax</div>
            <div class="result-value">R${results.incomeTaxMonthly.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">UIF</div>
            <div class="result-value">R${results.uifMonthly.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">Pension</div>
            <div class="result-value">R${results.pensionMonthly.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">Medical Credit</div>
            <div class="result-value positive">R${results.medicalCreditMonthly.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">Net Monthly</div>
            <div class="result-value positive">R${results.netMonthly.toLocaleString()}</div>
        </div>
    `;
    
    resultsContainer.style.display = 'block';
}

function loadSalaryData() {
    const saved = window.MoneyRiteTools.dataManager.load('salary');
    if (saved && saved.data) {
        const data = saved.data;
        document.getElementById('pay-amount').value = data.payAmount || '';
        document.getElementById('pay-period').value = data.payPeriod || 'monthly';
        document.getElementById('hours-per-week').value = data.hoursPerWeek || 40;
        document.getElementById('include-medical').checked = data.includeMedical || false;
        document.getElementById('medical-members').value = data.medicalMembers || 1;
        document.getElementById('pension-percentage').value = data.pensionPercentage || 0;
        
        // Trigger change events
        document.getElementById('pay-period').dispatchEvent(new Event('change'));
        document.getElementById('include-medical').dispatchEvent(new Event('change'));
        
        if (data.results) {
            displaySalaryResults(data.results, data.payAmount, data.payPeriod, data.hoursPerWeek);
        }
    }
}

function clearSalaryData() {
    if (confirm('Are you sure you want to clear all salary data?')) {
        window.MoneyRiteTools.dataManager.clear('salary');
        document.getElementById('salary-calculator-form').reset();
        document.getElementById('salary-results').style.display = 'none';
        document.getElementById('hours-group').style.display = 'none';
        document.getElementById('medical-members-group').style.display = 'none';
    }
}

function openBudgetPlanner() {
    const content = `
        <form class="tool-form" id="budget-planner-form">
            <div class="form-group">
                <label class="form-label">Monthly Income (ZAR)</label>
                <input type="number" class="form-input" id="monthly-income" placeholder="Enter monthly income" step="0.01" min="0" required>
            </div>
            
            <h4 style="margin: 2rem 0 1rem; color: var(--text-primary); font-weight: 600;">Monthly Expenses</h4>
            
            <div class="form-group">
                <label class="form-label">Housing (Rent/Bond)</label>
                <input type="number" class="form-input expense-input" id="housing" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Groceries & Household</label>
                <input type="number" class="form-input expense-input" id="groceries" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Utilities (Water/Electricity)</label>
                <input type="number" class="form-input expense-input" id="utilities" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Transport (Fuel/Taxi)</label>
                <input type="number" class="form-input expense-input" id="transport" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Education (School Fees)</label>
                <input type="number" class="form-input expense-input" id="education" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Healthcare/Medical</label>
                <input type="number" class="form-input expense-input" id="healthcare" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Insurance</label>
                <input type="number" class="form-input expense-input" id="insurance" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Loan Repayments</label>
                <input type="number" class="form-input expense-input" id="loans" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Family Support (Black Tax)</label>
                <input type="number" class="form-input expense-input" id="family" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Entertainment & Lifestyle</label>
                <input type="number" class="form-input expense-input" id="entertainment" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Savings & Investments</label>
                <input type="number" class="form-input expense-input" id="savings" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Other Expenses</label>
                <input type="number" class="form-input expense-input" id="other" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="action-buttons">
                <button type="button" class="btn-primary" onclick="calculateBudget()">Calculate Budget</button>
                <button type="button" class="btn-secondary" onclick="clearBudgetData()">Clear Data</button>
            </div>
        </form>
        
        <div id="budget-results" class="results-container" style="display: none;">
            <h3 class="results-title">Your Budget Summary</h3>
            <div class="results-grid" id="budget-results-grid"></div>
        </div>
    `;
    
    window.MoneyRiteTools.modalManager.openModal('Budget Planner', content, 'budget');
    
    // Add real-time calculation
    const expenseInputs = document.querySelectorAll('.expense-input');
    expenseInputs.forEach(input => {
        input.addEventListener('input', calculateBudget);
    });
    
    document.getElementById('monthly-income').addEventListener('input', calculateBudget);
    
    // Load saved data
    loadBudgetData();
}

function calculateBudget() {
    const monthlyIncome = parseFloat(document.getElementById('monthly-income').value) || 0;
    
    const expenses = {
        housing: parseFloat(document.getElementById('housing').value) || 0,
        groceries: parseFloat(document.getElementById('groceries').value) || 0,
        utilities: parseFloat(document.getElementById('utilities').value) || 0,
        transport: parseFloat(document.getElementById('transport').value) || 0,
        education: parseFloat(document.getElementById('education').value) || 0,
        healthcare: parseFloat(document.getElementById('healthcare').value) || 0,
        insurance: parseFloat(document.getElementById('insurance').value) || 0,
        loans: parseFloat(document.getElementById('loans').value) || 0,
        family: parseFloat(document.getElementById('family').value) || 0,
        entertainment: parseFloat(document.getElementById('entertainment').value) || 0,
        savings: parseFloat(document.getElementById('savings').value) || 0,
        other: parseFloat(document.getElementById('other').value) || 0
    };
    
    const totalExpenses = Object.values(expenses).reduce((sum, val) => sum + val, 0);
    const remainingBalance = monthlyIncome - totalExpenses;
    
    // Display results
    displayBudgetResults(monthlyIncome, totalExpenses, remainingBalance);
    
    // Save data
    const data = { monthlyIncome, expenses, totalExpenses, remainingBalance };
    window.MoneyRiteTools.dataManager.save('budget', data);
}

function displayBudgetResults(income, expenses, balance) {
    const resultsContainer = document.getElementById('budget-results');
    const resultsGrid = document.getElementById('budget-results-grid');
    
    const balanceClass = balance >= 0 ? 'positive' : 'negative';
    const healthStatus = balance >= 0 ? 'Healthy Budget' : 'Overspending';
    
    resultsGrid.innerHTML = `
        <div class="result-item">
            <div class="result-label">Monthly Income</div>
            <div class="result-value">R${income.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">Total Expenses</div>
            <div class="result-value">R${expenses.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">Remaining Balance</div>
            <div class="result-value ${balanceClass}">R${balance.toLocaleString()}</div>
        </div>
        <div class="result-item">
            <div class="result-label">Budget Health</div>
            <div class="result-value ${balanceClass}">${healthStatus}</div>
        </div>
    `;
    
    resultsContainer.style.display = 'block';
}

function loadBudgetData() {
    const saved = window.MoneyRiteTools.dataManager.load('budget');
    if (saved && saved.data) {
        const data = saved.data;
        document.getElementById('monthly-income').value = data.monthlyIncome || '';
        
        if (data.expenses) {
            Object.keys(data.expenses).forEach(key => {
                const element = document.getElementById(key);
                if (element) {
                    element.value = data.expenses[key] || '';
                }
            });
        }
        
        if (data.monthlyIncome || Object.values(data.expenses || {}).some(val => val > 0)) {
            calculateBudget();
        }
    }
}

function clearBudgetData() {
    if (confirm('Are you sure you want to clear all budget data?')) {
        window.MoneyRiteTools.dataManager.clear('budget');
        document.getElementById('budget-planner-form').reset();
        document.getElementById('budget-results').style.display = 'none';
    }
}

function openDebtTracker() {
    const content = `
        <div class="tool-form">
            <h4 style="margin: 0 0 1rem; color: var(--text-primary); font-weight: 600;">Add Debt Account</h4>
            
            <div class="form-group">
                <label class="form-label">Debt Name</label>
                <input type="text" class="form-input" id="debt-name" placeholder="e.g., Car Loan - Toyota">
            </div>
            
            <div class="form-group">
                <label class="form-label">Current Balance (ZAR)</label>
                <input type="number" class="form-input" id="debt-balance" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="form-group">
                <label class="form-label">Annual Interest Rate (%)</label>
                <input type="number" class="form-input" id="debt-rate" placeholder="12.50" step="0.01" min="0" max="50">
            </div>
            
            <div class="form-group">
                <label class="form-label">Monthly Payment (ZAR)</label>
                <input type="number" class="form-input" id="debt-payment" placeholder="0.00" step="0.01" min="0">
            </div>
            
            <div class="action-buttons">
                <button type="button" class="btn-primary" onclick="addDebt()">Add Debt</button>
                <button type="button" class="btn-secondary" onclick="clearDebtData()">Clear All</button>
            </div>
        </div>
        
        <div id="debt-list" class="results-container">
            <h3 class="results-title">Your Debts</h3>
            <div id="debt-items"></div>
        </div>
    `;
    
    window.MoneyRiteTools.modalManager.openModal('Debt Tracker', content, 'debt');
    loadDebtData();
}

function addDebt() {
    const name = document.getElementById('debt-name').value.trim();
    const balance = parseFloat(document.getElementById('debt-balance').value);
    const rate = parseFloat(document.getElementById('debt-rate').value);
    const payment = parseFloat(document.getElementById('debt-payment').value);
    
    if (!name || !balance || !rate || !payment) {
        alert('Please fill in all fields');
        return;
    }
    
    const debt = {
        id: Date.now().toString(),
        name,
        balance,
        rate,
        payment,
        createdAt: new Date().toISOString()
    };
    
    // Get existing debts
    const saved = window.MoneyRiteTools.dataManager.load('debts');
    const debts = (saved && saved.data) ? saved.data : [];
    
    debts.push(debt);
    window.MoneyRiteTools.dataManager.save('debts', debts);
    
    // Clear form
    document.getElementById('debt-name').value = '';
    document.getElementById('debt-balance').value = '';
    document.getElementById('debt-rate').value = '';
    document.getElementById('debt-payment').value = '';
    
    displayDebts();
}

function displayDebts() {
    const saved = window.MoneyRiteTools.dataManager.load('debts');
    const debts = (saved && saved.data) ? saved.data : [];
    const container = document.getElementById('debt-items');
    
    if (debts.length === 0) {
        container.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">No debts added yet.</p>';
        return;
    }
    
    container.innerHTML = debts.map(debt => {
        const payoffMonths = window.MoneyRiteTools.DebtCalculator.calculatePayoffTime(debt.balance, debt.rate, debt.payment);
        const totalInterest = window.MoneyRiteTools.DebtCalculator.calculateTotalInterest(debt.balance, debt.rate, debt.payment);
        const breakdown = window.MoneyRiteTools.DebtCalculator.calculateMonthlyBreakdown(debt.balance, debt.rate, debt.payment);
        
        return `
            <div class="debt-item" style="background: white; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1rem; border: 1px solid #e5e7eb;">
                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                    <h4 style="margin: 0; color: var(--text-primary); font-weight: 600;">${debt.name}</h4>
                    <button onclick="removeDebt('${debt.id}')" style="background: none; border: none; color: var(--error-color); cursor: pointer; font-size: 1.2rem;">&times;</button>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                    <div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Balance</div>
                        <div style="font-weight: 600; color: var(--text-primary);">R${debt.balance.toLocaleString()}</div>
                    </div>
                    <div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Interest Rate</div>
                        <div style="font-weight: 600; color: var(--text-primary);">${debt.rate}%</div>
                    </div>
                    <div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Monthly Payment</div>
                        <div style="font-weight: 600; color: var(--text-primary);">R${debt.payment.toLocaleString()}</div>
                    </div>
                    <div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.25rem;">Payoff Time</div>
                        <div style="font-weight: 600; color: var(--text-primary);">${payoffMonths ? Math.ceil(payoffMonths / 12) + ' years' : 'Never'}</div>
                    </div>
                </div>
                
                ${breakdown ? `
                <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #f1f5f9;">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; font-size: 0.9rem;">
                        <div>Interest: <strong>R${breakdown.interestPortion.toLocaleString()}</strong></div>
                        <div>Principal: <strong>R${breakdown.principalPortion.toLocaleString()}</strong></div>
                        ${totalInterest ? `<div>Total Interest: <strong>R${totalInterest.toLocaleString()}</strong></div>` : ''}
                    </div>
                </div>
                ` : ''}
            </div>
        `;
    }).join('');
}

function removeDebt(debtId) {
    if (confirm('Are you sure you want to remove this debt?')) {
        const saved = window.MoneyRiteTools.dataManager.load('debts');
        const debts = (saved && saved.data) ? saved.data : [];
        const filteredDebts = debts.filter(debt => debt.id !== debtId);
        
        window.MoneyRiteTools.dataManager.save('debts', filteredDebts);
        displayDebts();
    }
}

function loadDebtData() {
    displayDebts();
}

function clearDebtData() {
    if (confirm('Are you sure you want to clear all debt data?')) {
        window.MoneyRiteTools.dataManager.clear('debts');
        displayDebts();
    }
}

function openCreditMonitor() {
    const content = `
        <div class="tool-form">
            <div style="background: linear-gradient(135deg, #f0f9ff, #e0f2fe); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem; border: 1px solid #bae6fd;">
                <h4 style="margin: 0 0 1rem; color: #0369a1; font-weight: 600;">üéì Credit Education Center</h4>
                <p style="margin: 0; color: #0c4a6e; line-height: 1.6;">Learn about credit scores, understand what affects your creditworthiness, and get actionable tips to improve your financial health.</p>
            </div>
            
            <div style="display: grid; gap: 1.5rem;">
                <div class="credit-section" style="background: white; border-radius: 0.75rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
                    <h5 style="margin: 0 0 1rem; color: var(--text-primary); font-weight: 600;">üí° Credit Score Factors</h5>
                    <ul style="margin: 0; padding-left: 1.5rem; color: var(--text-secondary); line-height: 1.6;">
                        <li><strong>Payment History (35%)</strong> - Always pay on time</li>
                        <li><strong>Credit Utilization (30%)</strong> - Keep balances low</li>
                        <li><strong>Length of Credit History (15%)</strong> - Keep old accounts open</li>
                        <li><strong>Credit Mix (10%)</strong> - Have different types of credit</li>
                        <li><strong>New Credit (10%)</strong> - Don't apply for too much credit at once</li>
                    </ul>
                </div>
                
                <div class="credit-section" style="background: white; border-radius: 0.75rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
                    <h5 style="margin: 0 0 1rem; color: var(--text-primary); font-weight: 600;">üìä Debt-to-Income Calculator</h5>
                    <div style="display: grid; gap: 1rem;">
                        <div class="form-group">
                            <label class="form-label">Monthly Income (ZAR)</label>
                            <input type="number" class="form-input" id="credit-income" placeholder="0.00" step="0.01" min="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Total Monthly Debt Payments (ZAR)</label>
                            <input type="number" class="form-input" id="credit-debt" placeholder="0.00" step="0.01" min="0">
                        </div>
                        <button type="button" class="btn-primary" onclick="calculateDebtToIncome()">Calculate Ratio</button>
                    </div>
                    <div id="dti-result" style="margin-top: 1rem; display: none;"></div>
                </div>
                
                <div class="credit-section" style="background: white; border-radius: 0.75rem; padding: 1.5rem; border: 1px solid #e5e7eb;">
                    <h5 style="margin: 0 0 1rem; color: var(--text-primary); font-weight: 600;">üí≥ Credit Utilization Calculator</h5>
                    <div style="display: grid; gap: 1rem;">
                        <div class="form-group">
                            <label class="form-label">Total Credit Limit (ZAR)</label>
                            <input type="number" class="form-input" id="credit-limit" placeholder="0.00" step="0.01" min="0">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Current Balance (ZAR)</label>
                            <input type="number" class="form-input" id="credit-balance" placeholder="0.00" step="0.01" min="0">
                        </div>
                        <button type="button" class="btn-primary" onclick="calculateCreditUtilization()">Calculate Utilization</button>
                    </div>
                    <div id="utilization-result" style="margin-top: 1rem; display: none;"></div>
                </div>
                
                <div class="credit-section" style="background: linear-gradient(135deg, #f0fdf4, #dcfce7); border-radius: 0.75rem; padding: 1.5rem; border: 1px solid #bbf7d0;">
                    <h5 style="margin: 0 0 1rem; color: #15803d; font-weight: 600;">‚úÖ Credit Improvement Tips</h5>
                    <ul style="margin: 0; padding-left: 1.5rem; color: #166534; line-height: 1.6;">
                        <li>Pay all bills on time, every time</li>
                        <li>Keep credit card balances below 30% of limits</li>
                        <li>Don't close old credit card accounts</li>
                        <li>Check your credit report regularly for errors</li>
                        <li>Pay down existing debt before taking on new debt</li>
                        <li>Consider becoming an authorized user on someone else's account</li>
                    </ul>
                </div>
            </div>
            
            <div class="action-buttons">
                <button type="button" class="btn-secondary" onclick="clearCreditData()">Clear Data</button>
            </div>
        </dck %}
{% endblo/script>
<
}e';
    }on= 'ny playle.disresult').stilization-'utentById(Elemgetment.    docu  e';
   'none.display =').stylltesuId('dti-rentBytElemocument.ge       due = '';
 .vale')lancdit-batById('creemenent.getEl    docum     '';
ue =).valit't-lim'credientById(tElement.gedocum       ;
 e = ''valuebt').-d('creditlementByIdetEdocument.g       ';
 value = 'come').'credit-inyId(etElementBument.goc        dcredit');
ear('aManager.clatTools.dneyRiteow.Mowind        data?')) {
l credit r alnt to clea wa sure you youm('Arefir
    if (con) {ata(editDion clearCr}

funct }

   ebt;a.due = dat').valit-debtedtById('cr.getElemen documentbt)def (data.  i
      a.income; = datme').valuedit-inco('creIdentByElemetcument.g) dota.incomeda if (     ed.data;
   data = sav    const
    aved.data) {d && s  if (save
  t');oad('credir.laManageTools.datoneyRiteow.Msaved = wind    const ta() {
DadCreditction loa
fun';
}
ay = 'blockle.displstyv.esultDi   r
   `;  </div>
  
      vice}</p>rem;">${ad: 0.9 font-sizendary);-text-secocolor: var(-argin: 0; p style="m    <
        </div>            s}
${statuxed(1)}% - ization.toFi ${util             rem;">
  0.5ttom: argin-bocolor}; m; color: ${t: 600weighm; font-1.25re: t-size"foniv style=   <d    ">
     5e7eb;1px solid #eder: ; bordding: 1remrem; paus: 0.5order-radif9fafb; bund: #ackgroyle="b <div st`
       erHTML = ltDiv.inn   resu
   
  
    } balance.';wn thispaying dous on ore. Foccredit sc your urtn hlization ca= 'High utice dvi a   or)';
    --error-colr = 'var(olo      c
  r';= 'Poo  status  {
        } else.';
   ratioilization ut credit yourovece to impr balan yourwn dongpayisider ce = 'Con  advi
      ng-color)';'var(--warni    color = 
    ;s = 'Fair'atu      st  n <= 50) {
izatio(util } else if .';
   ealthit hmal cred% for opti below 30y to keep it. Trn ratetioizailood utadvice = 'G      or)';
  -success-colar(-= 'vor  col
       ';atus = 'Good   st{
     ion <= 30) (utilizatf  } else i;
   .'pacte im credit scorhe best for t this low utilizationur! Keep yocellentice = 'Ex   adv)';
     uccess-colorr = 'var(--slo     co
   t';llen= 'Exceatus   st  
    {<= 10) ation if (utilize;
    or, advicol, cuslet stat 
    lt');
   tion-resuzaId('utiligetElementBydocument.Div = onst result  c;
  mit * 100 li /balance = izationst util
    con  ;
    }
  eturn  r    
  it'); credit limida valse enter lea    alert('P= 0) {
     <imit(!limit || l
    if alue);
    .vance')credit-balentById('tElemcument.gerseFloat(doance = pa   const balalue);
 ').vdit-limittById('creetElemen(document.geFloatit = parsst limcon
    zation() {reditUtilicalculateCunction a);
}

fdit', dater.save('crenagMa.dataoolsteTdow.MoneyRi};
    winatio ebt, rincome, d { ata = const d data
    // Save   
    
'block';play = .disyleltDiv.st    resu
    `;
>/div      <p>
  vice}</{ad;">$size: 0.9remdary); font-ontext-secr: var(-- colo"margin: 0;style=    <p   
      iv>      </d
      status}1)}% - ${io.toFixed(   ${rat        ;">
     ttom: 0.5remgin-bomarcolor};  color: ${weight: 600; font-em; 1.25rize:"font-s <div style=           ">
 #e5e7eb;: 1px solid1rem; borderdding: em; pa 0.5rer-radius:b; bordafd: #f9fgrounackstyle="b       <div  `
  =iv.innerHTML   resultD
    }
    or.';
 visnancial adng with a fin or speakiolidatiodebt consr gh. Consideo is very hirati-to-income 'Your debt   advice =    
  ';rror-color) 'var(--ecolor =       ';
 s = 'Pooratu
        st   } else {.';
 w debtng on neoid taki and avdebtaying down ocus on ph. Fratio is higome o-inct-tur debice = 'Yo      advlor)';
  coing-var(--warnor = '    col   'Fair';
    status = ) {
     (ratio <= 50e if  } els;
   ve further.'t to improdeb down er payingside. Conageabltio is manra-to-income ebte = 'Your d   advic;
     olor)'-ccess-suc 'var(- =lor   co';
      = 'Goodatus      st36) {
  f (ratio <=  else ity.';
    } flexibiliialood financve g hat! Youllenatio is exceincome rto-t-ur debadvice = 'Yo
        olor)';ss-c--succevar(   color = ';
     nt'lle 'Exce status =
        <= 20) {tioif (radvice;
    olor, a, ctus   let sta
    ;
 lt')resuntById('dti-Elemeocument.get dresultDiv =  const 
  * 100;bt / income = det ratio    cons
    
    } return;
 );
       income'onthly valid mse enter a eaPllert('   a {
      <= 0)meome || inco!inc
    if ();
    bt').value('credit-deIdetElementBy.gat(document= parseFloconst debt ue);
    come').val-indityId('cretBt.getElement(documenoaseFl= parome nc  const icome() {
  IntToculateDebtion calunc();
}

fDataredit  loadC
  );it'tent, 'cred, conn'ducatio('Credit EModalpenalManager.oools.modeTw.MoneyRit    windo;
    
   `iv>
 